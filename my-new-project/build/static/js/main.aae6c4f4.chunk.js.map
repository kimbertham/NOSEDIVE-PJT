{"version":3,"sources":["lib/auth.js","lib/commonFiles.js","Profiles /ProfileSections/ProfileActivity/ProfileRatingStars.js","Profiles /ProfileSections/ProfileFollowing/ProfileFollowAction.js","Profiles /ProfileInfo.js","Profiles /ProfileNavbar.js","Profiles /ProfileSections/ProfileBio/ProfileBio.js","Posts/PostSettings.js","Posts/PostContent.js","Posts/PostComments/MakeComments.js","Posts/PostComments/PostComments.js","Posts/PostsRatingStars.js","Posts/RatingModal.js","Posts/Posts.js","common/Loader.js","common/ImageUpload.js","Posts/MakePost.js","Profiles /ProfileSections/ProfileActivity/ProfileInteractions.js","Profiles /ProfileSections/ProfileActivity/ProfileActivity.js","Profiles /ProfileSections/ProfilePhotos.js","Profiles /ProfileSections/ProfileFollowing/ProfileFollowers.js","Profiles /ProfileSections/ProfileWishlist/ProfileWishlistAdd.js","Profiles /ProfileSections/ProfileWishlist/WishlistProduct.js","Profiles /ProfileSections/ProfileWishlist/ProfileWishlist.js","Profiles /ProfilePage.js","Profiles /ProfileSections/ProfileBio/ProfileBioEdit.js","common/sidebar/SidebarSearch.js","common/sidebar/SidebarPosts.js","common/Navbar.js","common/sidebar/Sidebar.js","Auth/Login.js","Auth/Register.js","Stats/StatsModal.js","Stats/Stats.js","Forum/ForumNew.js","Forum/ForumCard.js","Forum/Forum.js","Forum/ForumNews.js","Newsfeed/NewsfeedBio.js","Newsfeed/NewsfeedFriends.js","Newsfeed/Newsfeed.js","Forum/ForumThreads/ThreadPost.js","Forum/ForumThreads/ThreadComments/ThreadOptions.js","Forum/ForumThreads/ThreadComments/Recursive.js","Forum/ForumThreads/ForumThreads.js","Messages/Chat.js","Messages/Conversations.js","Messages/MessagePost.js","Messages/NewConvo.js","Messages/Messages.js","App.js","index.js"],"names":["setToken","token","window","localStorage","setItem","headers","Authorization","getToken","getItem","getUserId","parts","split","length","JSON","parse","atob","getPayload","sub","defaultImage","amazonHeaders","amazonBaseURL","ProfileRatingStars","state","rating","feedback","modal","message","handleChange","a","setState","axios","post","props","userProfile","updateProfile","handleFeedback","event","target","value","handleModal","showText","setTimeout","this","currentUserId","average","className","size","onChange","onClick","id","React","Component","ProfileFollowAction","following","checkFollow","i","user_from","handleFollow","profileUser","match","params","follow","toString","withRouter","ProfileInfo","user","bio","style","backgroundImage","profile_image","first_name","last_name","followers","slice","tagline","to","ProfileBio","src","alt","description","username","age","career","relationship","location","PostSettings","settings","toggleSettings","deletePost","delete","owner","PostContent","showComments","showRatings","created_at","reverse","join","content","image","ratings","comments","MakeComments","form","name","handleSubmit","preventDefault","p","page","parent","forum","console","log","getComments","toggleReply","toggleReplies","postOwner","postId","onSubmit","placeholder","PostComments","comment","deleteComment","key","comment_owner","PostsRatingStars","userId","ave","reduce","b","rated","some","obj","rating_owner","con","RatingModal","ratingModal","ratingPop","map","Posts","Loading","type","color","height","width","uploadUrl","ImageUpload","formData","loading","toggleLoad","handleUpload","data","FormData","append","files","photoRes","url","toggleImg","field","Loader","MakePost","threadId","toggleImage","handleImage","img","ProfileInteractions","interaction","ProfileActivity","posts","ProfilePhotos","gallery","openImage","dontCloseModal","e","stopPropagation","deleteImg","action","photos","ProfileFollowers","fbutton","handleButton","getData","section","follower","created","user_to","ProfileWish","search","WishlistProduct","product","handleWishList","handleDelete","thumbnail","href","title","price","current_price","products","postForm","wishlist","res","userLimit","ProfileWishlistAdd","asin","ProfilePage","path","render","ProfileWishlist","ProfileBioEdit","profile","get","err","put","history","push","defaultValue","disabled","SidebarSearch","query","users","searchUsers","usersFiltered","filter","regex","RegExp","changeProfile","SidebarPosts","Navbar","handleLogout","removeItem","reload","handleProfileNav","Sidebar","newPosts","topPosts","new_posts","top_posts","Login","error","handleChangeColor","timer","setInterval","changeback","clearTimeout","changingBg","Register","StatsModal","advice","weakness","modalClass","Stats","dateOptions","colors","chart","xaxis","categories","dateSeries","feedbackOptions","feedbackSeries","getAdvice","x","y","rating_count","dateCategories","dateData","feedbackCategories","feedbackData","date","item","series","options","innerWidth","ForumCard","thread","limitations","forum_owner","Forum","fButton","toggleFollowed","followed","ForumNew","ForumNews","substring","NewsfeedBio","NewsfeedFriends","friends","friend","Newsfeed","forums","ThreadPost","deleteThread","post_image","ThreadOptions","reply","commentId","replies","children","Recursive","set","ForumThreads","includes","charAt","followForum","forumId","Chat","convo","participants","messages","sender","Conversations","conv","setChat","selectedChat","setNew","setRead","unread","u","m","read","reciever","index","MessagePost","conversation","handleClear","f","getConvos","NewConvo","input","handleNew","conversations","findIndex","c","newConvo","Messages","chat","find","update","Promise","all","then","App","change","getDataForum","t","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.aae6c4f4.chunk.js","sourcesContent":["\nexport const setToken = token => {\n  window.localStorage.setItem('token', token)\n}\n\nexport const headers = () => {\n  return {\n    headers: { Authorization: `Bearer ${getToken()}` }\n  }\n}\nexport const getToken = () => {\n  return window.localStorage.getItem('token')\n}\n\nexport const getPayload = () => {\n  const token = getToken()\n  if (!token) return false\n  const parts = token.split('.')\n  if (parts.length < 3)  return false \n  return JSON.parse(window.atob(parts[1]))\n}\n\n\nexport const getUserId = () => {\n  return getPayload().sub\n}","\nexport const defaultImage = 'https://bit.ly/30vhZFs'\n\nexport const amazonHeaders = {\n  'headers': {\n    'x-rapidapi-host': 'amazon-product-reviews-keywords.p.rapidapi.com',\n    'x-rapidapi-key': '5789c571cbmsh6847871835030fcp18787bjsncd9c94134328'\n  } }\n\nexport const amazonBaseURL = 'https://amazon-product-reviews-keywords.p.rapidapi.com/product/search?country=US&keyword='","import React from 'react'\nimport axios from 'axios'\nimport BeautyStars from 'beauty-stars'\nimport { headers } from '../../../lib/auth'\n\n\n\nclass ProfileRatingStars extends React.Component {\n  state = {\n    rating: 0 ,\n    feedback: '',\n    modal: false,\n    message: false\n  }\n\n  handleChange = async rating => {\n    this.setState({ rating }, async ()  => {\n      await axios.post(`/api/ratings/${this.props.userProfile}/`, this.state , headers() )\n      this.props.updateProfile(this.props.userProfile, 'average')\n      this.props.updateProfile(this.props.userProfile, 'ratings')\n    })\n  }\n\n  handleFeedback = (event) => {\n    this.setState({ feedback: event.target.value })\n  }\n\n  handleModal = () => {\n    this.setState({ modal: !this.state.modal })\n  }\n\n  showText = () => {\n    this.setState({ message: true })\n    setTimeout(() => this.setState({ message: false }), 1000)\n  \n  }\n\n  render(){\n    const { modal, message } = this.state\n    const { currentUserId, userProfile, average } = this.props\n    return (\n      <>\n        <div className='feedback-container'>\n\n          {currentUserId === userProfile ? \n            <>\n              <BeautyStars\n                value={average}\n                size={'30px'}\n                onChange={this.showText}/>\n              <p className={message ? 'shake-text italic' : 'display-none'}> &#9432; You cannot rate yourself</p>\n            </>\n            :\n            <>\n              <BeautyStars\n                value={this.state.rating}\n                size={'30px'}\n                onChange={this.handleChange}/>\n\n              <div className='center' \n                onClick={this.handleModal}>\n                <button className='button'> \n            Leave feedback...\n                </button>\n              </div>\n            </>\n          }\n\n          <div className={modal ? \n            'center' : 'display-none'}>\n            <select id=\"feedback\"\n              value={this.state.feedback}\n              onChange={this.handleFeedback} >\n              <option value=''></option>\n              <option value=\"Unpleasant Smell\">Unpleasant Smell</option>\n              <option value=\"Rude Interaction\">Rude Interaction</option>\n              <option value=\"Unattractive\">Unattractive</option>\n              <option value=\"Impoverished Vibes\">Impoverished Vibes</option>\n              <option value=\"Discriminatory\">Discriminatory</option>\n            </select>\n          </div>\n        </div>\n        \n      </>\n    )\n  }\n}\n\nexport default ProfileRatingStars","import React from 'react'\nimport axios from 'axios'\nimport { withRouter } from 'react-router-dom'\nimport { getUserId,headers } from '../../../lib/auth'\nconst currentUserId = getUserId()\n\nclass ProfileFollowAction extends React.Component {\n  state= {\n    following: false\n  }\n\n  componentDidMount() {\n    this.checkFollow()\n  }\n\n  checkFollow = () => {\n    const following = this.props.following\n    for (let i = 0; i < following.length; i++) {\n      if (following[i].user_from.id === currentUserId) {\n        this.setState({ following: true })\n      } else {\n        this.setState({ following: false })\n      }\n    }\n  }\n\n  handleFollow = async () => {\n    const profileUser = this.props.match.params.id\n    const follow = this.state.following ? 'unfollowing' : 'following'\n    await axios.post(`/api/follow/${follow}/${profileUser}/`,'', headers())\n    this.setState({ following: !this.state.following })\n    this.props.updateProfile(this.props.userProfile, 'follow')\n  }\n  \n\n  render(){\n    const { following } = this.state\n    const profileUser = this.props.match.params.id\n    return (\n      \n      <div className={currentUserId.toString() === profileUser ?\n        'display-none' : 'follow-button-container'}>\n\n        <button \n          onClick={this.handleFollow}\n          className='button follow-button'> \n          {following === true ? 'Unfollow' : 'Follow'}\n        </button>\n      </div>\n\n    )\n  }\n}\nexport default withRouter(ProfileFollowAction)","import React from 'react'\nimport { defaultImage } from '../lib/commonFiles'\nimport ProfileRatingStars from './ProfileSections/ProfileActivity/ProfileRatingStars'\nimport ProfileFollowAction from './ProfileSections/ProfileFollowing/ProfileFollowAction'\n\nconst ProfileInfo = ({ user,handleModal, modal, updateProfile, currentUserId }) => {\n\n  const { bio, average, follow } = user\n\n  if (!user) return ''\n  return (\n  \n    <div className='profile-info'>\n      <div className='flex'>\n\n        <div \n          style={{  \n            backgroundImage: `url(${bio.profile_image ? \n              bio.profile_image : defaultImage})`\n          }} className='profile-image'/>\n\n        <div className='profile-text'>\n          <div className='center'>\n            <h1> {bio.first_name} {bio.last_name}</h1>\n\n            <ProfileFollowAction\n              userProfile={bio.id}\n              updateProfile={updateProfile}\n              following={follow.followers}/>\n          </div>\n\n          <div className='profile-details'>\n            <h1>{average ? average.toString().slice(0, 3) : 0}\n              <small>{average ? average.toString().slice(3,5) : 0}</small> \n            </h1>\n            <p>{bio.tagline}</p>\n          </div>\n        </div>\n        \n      </div>\n      <div>\n\n        <ProfileRatingStars \n          userProfile={bio.id}\n          average={average}\n          currentUserId={currentUserId}\n          updateProfile={updateProfile}\n          modal={modal}\n          handleModal={handleModal}/>\n      </div>\n    </div>\n    \n  )\n}\n\nexport default ProfileInfo","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\n\nconst ProfileNavbar = ({ user }) => {\n\n\n  return ( \n    <>\n      <div  className='profile-nav dark-border'>\n\n        <Link \n          to={`/profile/${user.bio.id}/bio`}> \n          <div className='nav-field'> Bio </div>\n        </Link>\n\n        <Link \n          to={`/profile/${user.bio.id}/activity`}>\n          <div className='nav-field'> Activity </div>\n        </Link>\n\n        <Link \n          to={`/profile/${user.bio.id}/photos`}>\n          <div className='nav-field'> Photos </div>\n        </Link>\n        \n        <Link \n          to={`/profile/${user.bio.id}/fans`}>\n          <div className='nav-field'> Fans </div>\n        </Link>\n      \n        <Link \n          to={`/profile/${user.bio.id}/wishlist`}>\n          <div className='nav-field'> Wishlist </div>\n        </Link>\n\n      </div>\n\n    </>\n  )\n}\n\nexport default withRouter(ProfileNavbar)","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst ProfileBio = ( { user }) => {\n\n  const { bio } = user\n  if (!user) return ''\n\n  return (\n    <>\n      <Link to={`/edit/${user.bio.id}`}>\n        <img src='https://i.imgur.com/BvhVhb3.jpg' \n          className='nav-icon right'\n          alt='settings'/>\n      </Link>\n\n      <div className='profile-bio-container'>\n        <div className='profile-bio-info'>\n          <div className=\"blockquote-wrapper\">\n            <div className=\"blockquote\">\n              <h1>{bio.description}</h1>\n            </div>\n          </div>\n          \n          <div className='flex'>\n            <img src={bio.profile_image} className='bio-img'/>\n            <div> \n              <h1> {bio.first_name} {bio.last_name}</h1>\n              <h2> @{bio.username} </h2>\n              <h2> {bio.tagline}</h2>\n              <br/>\n              <h2>Age: {bio.age}</h2>\n              <h2>Career status: {bio.career}</h2>\n              <h2>Relationship: {bio.relationship}</h2>\n              <h2>Location: {bio.location} </h2>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default ProfileBio\n","import React from 'react'\nimport { headers } from '../lib/auth'\nimport axios from 'axios'\n\nclass PostSettings extends React.Component {\nstate={\n  settings: false\n}\n\ntoggleSettings = () => {\n  this.setState({ settings: !this.state.settings })\n}\n\ndeletePost = async (id) => {\n  await axios.delete(`/api/post/${id}/`, headers())\n  this.props.updateProfile(this.props.user.bio.id)\n}\n\nrender() {\n  const { post, currentUserId } = this.props\n  const { settings } = this.state\n  return (\n\n    <div className='settings-icon flex'>\n        \n      {post.owner.id === currentUserId ?\n        <>\n          <div className='flex dots-container' \n            onClick={this.toggleSettings}>\n            <div className='dots'/> \n            <div className='dots'/> \n            <div className='dots'/>\n          </div>\n          <div \n \n            onClick={() => {\n              this.deletePost(post.id)\n            }}\n            className={settings ? \n              'post-delete button pointer' : 'display-none'}>\n            <p>Delete</p>\n          </div>     \n        </>  \n        : ''}\n\n    </div>\n  )\n}\n}\n\nexport default PostSettings","import React from 'react'\nimport { defaultImage } from '../lib/commonFiles'\nimport PostSettings from './PostSettings'\nimport { Link } from 'react-router-dom'\n\nconst PostContent = ({ post, showComments ,updateProfile, currentUserId, user, showRatings }) => { \n  return (\n    <>\n\n      <div className='post-view flex'>\n        \n        <Link to={`/profile/${post.owner.id}/activity`} >\n          <img className='post-icon'\n            alt='post-owner-pic'\n            src={post.owner.profile_image ? \n              post.owner.profile_image : defaultImage}\n            onClick={()=>{\n              updateProfile(post.owner.id)\n            }}/>\n        </Link>\n        <div className='full-width'>\n          <h1> {post.owner.first_name} {post.owner.last_name}</h1>\n          <div className='flex post-settings'>\n            <p className='date-text'>\n              {post.created_at.split('-').reverse().join(' ')}</p>\n            \n\n            <PostSettings\n              post={post}\n              currentUserId={currentUserId}\n              user={user}\n              updateProfile={updateProfile}/> \n          </div>\n\n          <p className='post-content italic'>{post.content}</p>\n          \n          <img src={post.image} className='post-image' />\n          \n          <div className='post-interactions'>\n            <small \n              className='button pointer comment-button'\n              onClick={() => {\n                showRatings(post.ratings)\n              }}>rated by {post.ratings.length}</small>\n\n            <small \n              onClick={showComments}\n              className='button pointer comment-button'> \n            Comments ({post.comments ? post.comments.length : null})</small>\n  \n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n\n\nexport default PostContent","import React from 'react'\nimport axios from 'axios'\nimport { headers } from '../../lib/auth'\n\n\n\nclass MakeComments extends React.Component {\n\n  state = {\n    form: \n    { content: '' }\n  }\n\n  handleChange = event => {\n    const form = { ...this.state.form, [event.target.name]: event.target.value , post: this.props.id  }\n    this.setState({ form })\n  }\n  \n  handleSubmit = async event => {\n    event.preventDefault()\n    const p = this.props.page\n    try {\n\n      if (p === 'thread') {\n        const parent = this.props.parent === null ? \n          0 : this.props.parent\n        const forum = this.props.forum\n        console.log(forum)\n        await axios.post(`/api/forum/${forum.id}/${parent}/`, \n          this.state.form, headers())\n        this.props.getComments()\n        this.props.toggleReply()\n        this.props.toggleReplies(true)\n        \n      }\n      if (p === 'profile') {\n        const postOwner = this.props.post.owner.id\n        const postId = this.props.post.id\n        await axios.post(`/api/comments/${postOwner}/${postId}/`,\n          this.state.form, headers())\n        this.props.updateProfile(this.props.user.bio.id)\n      }\n\n      this.setState({ form: { content: '' } })\n\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  render () {\n    return (\n      <>\n        \n        <form onSubmit={this.handleSubmit}\n        \n          className='bordered-box make-comment center'>\n\n          <input\n            name='content'\n            className='comment-input dark-border'\n            placeholder='Post a comment'\n            onChange={this.handleChange}\n            value={this.state.form.content}\n          />\n          <button className='button comment-button italic'> Comment</button>\n        </form>\n      </>\n    \n    )\n  }\n}\n\nexport default MakeComments","import React from 'react'\nimport axios from 'axios'\nimport { defaultImage } from '../../lib/commonFiles'\nimport { headers,getUserId } from '../../lib/auth'\nconst currentUserId = getUserId()\n\nconst PostComments = ( { comment, updateProfile, user }) => {\n\n  const deleteComment = async () => {\n    await axios.delete(`/api/comments/${comment.id}/`, headers())\n    updateProfile(user.bio.id)\n  }\n\n  return (\n\n    <div \n      key={comment.id}\n      className='post-comments dark-border flex'>\n\n      <img \n        className='small-icon' \n        src={comment.comment_owner.profile_image ? \n          comment.comment_owner.profile_image : defaultImage}\n        alt='commenter-img'/>\n\n      \n      <div className='full-width '>\n        <div className='comment-content'>\n          <p>{comment.content}</p>\n          {comment.comment_owner.id === currentUserId ? \n            <small \n              className='pointer'\n              onClick={deleteComment}>Delete</small> \n            : '' }\n        </div>\n\n        <div className='comment-details'> \n          <small>{comment.comment_owner.username} </small>\n          <small>\n            {comment.created_at.split('-').reverse().join(' ')}\n          </small>\n        </div>\n        \n      </div>\n    </div>\n  )\n}\n\nexport default PostComments","import React from 'react'\nimport axios from 'axios'\nimport BeautyStars from 'beauty-stars'\nimport { headers } from '../lib/auth'\n\n\n\nclass PostsRatingStars extends React.Component {\n  state = {\n    rating: 0,\n    message: false\n\n  }\n  handleChange = async rating => {\n    this.setState({ rating }, async ()  => {\n\n      const userId = this.props.post.owner.id\n      const postId = this.props.post.id\n      await axios.post(`/api/postratings/${postId}/${userId}/`,this.state, headers())\n      this.props.updateProfile(this.props.user.bio.id, 'average')\n      this.props.updateProfile(this.props.user.bio.id, 'posts')\n    })\n  }\n\n  showText = () => {\n    this.setState({ message: true })\n    setTimeout(() => this.setState({ message: false }), 1000)\n  }\n  \n\n  render(){\n    const { post , currentUserId } = this.props\n    const ave = post.ratings.reduce((a,b) => a + b.rating, 0) / post.ratings.length\n    const rated = post.ratings.some(obj => obj.rating_owner.id === currentUserId)\n    const con = (currentUserId === post.owner.id) ? this.showText : (!rated) ?  this.handleChange : null\n   \n    return (\n      <div className='flex column'>\n        <BeautyStars\n          value={this.state.rating ? this.state.rating : ave}\n          size={'12px'}\n          onChange={con}/>\n        <p className={this.state.message ? 'shake-text italic' : 'display-none'}> &#9432; You cannot rate yourself</p>\n      </div>\n    )\n  }\n}\n\nexport default PostsRatingStars","import React from 'react'\nimport { Link } from 'react-router-dom'\nconst RatingModal = ({ showRatings, ratingModal, ratingPop, updateProfile }) => {\n\n  return (\n\n    <div\n      className={ratingModal ? 'modal center ' : 'display-none'}\n      onClick={showRatings}>\n\n      <div className='modal-pop ratings-modal'>\n\n        <h1 className='bordered-box'>Post Ratings</h1>\n\n        {ratingModal ? ratingPop.map(ratings => {\n          return ( \n\n            <div key={ratings.id} onClick={()=> updateProfile(ratings.rating_owner.id)}>\n              <Link to={`/profile/${ratings.rating_owner.id}/activity`} \n                className=' center bordered-box flex'> \n                <img \n                  className='small-icon' alt='profile-img'\n                  src={ratings.rating_owner.profile_image} />\n                <p>{ratings.rating_owner.first_name} {ratings.rating_owner.last_name} rated this post {ratings.rating} stars</p>\n              </Link>\n            </div>\n          )\n        }) : ''\n        }\n\n      </div>\n    </div>\n  )\n}\n\n\nexport default RatingModal","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport PostContent from './PostContent'\nimport MakeComments from './PostComments/MakeComments'\nimport PostComments from './PostComments/PostComments'\nimport PostsRatingStars from './PostsRatingStars'\nimport RatingModal from './RatingModal'\n\nclass Posts extends React.Component {\n  state = {\n    comments: false,\n    ratingModal: false,\n    ratingPop: ''\n  }\n\n\n  showComments = () => {\n    this.setState({ comments: !this.state.comments })\n  }\n\n  showRatings = (i) => {\n\n    if (i) {\n      this.setState({ ratingPop: i }) \n    }\n\n    this.setState({ ratingModal: !this.state.ratingModal })\n  }\n\n  render(){\n    const { post, currentUserId, updateProfile, user } = this.props\n    const { comments, ratingModal,ratingPop } = this.state\n    \n    return (\n      <div className='posts'>\n          \n        <div className='post-stars'>\n          <PostsRatingStars\n            post={post}\n            user={user}\n            updateProfile={ updateProfile}\n            currentUserId={currentUserId}/>\n        </div>\n\n        <PostContent \n          post={post}\n          user={user}\n          updateProfile={updateProfile}\n          showRatings={this.showRatings}\n          showComments={this.showComments} \n          currentUserId={currentUserId}/>\n            \n\n        <div className={comments ?\n          'display-block' : 'display-none'}>\n          {post.comments ? post.comments.map(comment => {\n            return (\n              <PostComments \n                key={comment.id} \n                comment={comment}\n                user={user}\n                updateProfile={ updateProfile }\n                page={'profile'}/>\n            )\n          }) : null}\n\n          <MakeComments \n            post={post}\n            updateProfile={updateProfile}\n            user={user}\n            page={'profile'}/>\n            \n        </div>\n\n        <RatingModal\n          ratingPop={ratingPop}\n          ratingModal={ratingModal}\n          showRatings={this.showRatings}\n          updateProfile={updateProfile}/>\n\n      </div>\n\n    )\n  }\n}\n\nexport default withRouter(Posts)","\nimport React from 'react'\nimport Loader from 'react-loader-spinner'\n\nclass Loading extends React.Component {\n\n  render() {\n    return (\n      <Loader\n        type=\"Puff\"\n        color=\"#ce9b8e\"\n        height={100}\n        width={80}\n      />\n    )\n  }\n}\n\nexport default Loading","import React from 'react'\nimport axios from 'axios'\nimport { headers } from '../lib/auth'\nimport Loader from '../common/Loader'\n\nconst uploadUrl = 'https://api.cloudinary.com/v1_1/diyxyp4qk/image/upload'\nconst uploadPreset = 'eceecv3s'\n\n\nclass ImageUpload extends React.Component {\n  state = {\n    formData: {\n      image: ''\n    },\n    loading: false\n  }\n\n  toggleLoad = () => { \n    this.setState({ loading: !this.state.loading })\n  }\n\n  handleUpload = async event => {\n    this.toggleLoad()\n    const data = new FormData()\n    data.append('file', event.target.files[0])\n    data.append('upload_preset', uploadPreset)\n    const photoRes = await axios.post(uploadUrl, data)\n    this.setState({ formData: { image: photoRes.data.url } },\n      async () => {\n        if ( this.props.page === 'edit') {\n          this.props.image(photoRes.data.url)\n        } if (this.props.page === 'post') {\n          this.props.post(photoRes.data.url)\n          this.props.toggleImg()\n        } if (this.props.page === 'forum') {\n          this.props.image(photoRes.data.url, this.props.field)\n        } if (this.props.page === 'photos') {\n          await axios.post('/api/photos/', this.state.formData, headers())\n          this.props.updateProfile( this.props.user.bio.id, 'photos')\n        }\n        this.toggleLoad()\n      }\n    )\n  }\n\n  \n\n  render() {\n    const { loading } = this.state\n    return (\n  \n      <div className='flex' > \n\n        <input\n          name='image'\n          className=\"img-up bordered-box dark-border\"\n          type=\"file\"\n          onChange={this.handleUpload}\n        />\n\n        {loading ? <Loader /> : null}\n\n      </div>\n\n    )\n  }\n}\nexport default ImageUpload","import React from 'react'\nimport axios from 'axios'\nimport { headers } from '../lib/auth'\nimport ImageUpload from '../common/ImageUpload'\n\nclass MakePost extends React.Component {\n  state = {\n    form: {\n      content: ''\n    },\n    image: false\n  }\n\n  handleChange = event => {\n    const form = { ...this.state.form, [event.target.name]: event.target.value }\n    this.setState({ form })\n  }\n  \n\n  handleSubmit = async event => {\n    event.preventDefault()\n    const p = this.props.page\n    try {\n      if (p === 'thread-post') {\n        const threadId = this.props.threadId\n        await axios.post(`/api/forum/${threadId}/0/`, this.state.form, headers())\n        this.props.getComments()\n      } \n      if (p === 'profile-post'){\n        await axios.post(`/api/post/${this.props.user.bio.id}/`, this.state.form, headers())\n        this.props.updateProfile(this.props.user.bio.id)\n      }\n      this.setState({ form: { content: '' } })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  toggleImage = () => {\n    this.setState({ image: !this.state.image })\n  }\n\n  handleImage = (img) => {\n    const form = { ...this.state.form, image: img }\n    this.setState({ form })\n  }\n\n  render(){\n    const { image } = this.state\n    return (\n      <div className='make-post-container  dark-border'>\n\n        <form \n          className='post-form center'\n          onSubmit={this.handleSubmit}>\n          <textarea\n            className='post-texarea dark-border'\n            placeholder={'What\\'s happening?'}\n            name='content'\n            onChange={this.handleChange}\n            value={this.state.form.content}/>\n          <div className='center'>\n            <button className='post-button button'> Send!</button>\n            <img src={'https://i.imgur.com/WPwXvQU.jpg'} className='camera-button'\n              onClick={this.toggleImage}/>\n          </div>\n        </form>\n        <div className={image ? 'flex-end' : 'display-none' }>\n          <ImageUpload\n            page={'post'}\n            post={this.handleImage}\n            toggleImg={this.toggleImage}/>\n        </div>\n  \n\n      </div>\n\n    )\n  }\n}\n\n\nexport default MakePost","import React from 'react'\nimport { defaultImage } from '../../../lib/commonFiles'\n\n\nconst ProfileInteractions = ({ user }) => {\n\n\n  return (\n    <section className='profile-interactions dark-border italic sticky'>\n      <div className='sticky int-h1'> <h1> Interactions</h1> </div>\n      <div className='scroll'>\n\n        {user.ratings.map(interaction => {\n          return (\n            <div key={interaction.id} \n              className='posts-interactions dark-border flex'>\n\n              <img \n                src={interaction.owner.profile_image ?\n                  interaction.owner.profile_image : defaultImage}\n                className='small-icon'\n                alt='profile-pic'/>\n\n              <p> {`${interaction.owner.username} \n              rated ${user.bio.username}\n              ${interaction.rating} stars `} </p>\n            </div>\n          )\n        })}\n\n      </div>\n    </section>\n  )\n}\n\n\nexport default ProfileInteractions","import React from 'react'\nimport Posts from '../../../Posts/Posts'\nimport MakePost from '../../../Posts/MakePost'\nimport ProfileInteractions from './ProfileInteractions'\n\nconst ProfileActivity = ( { user, currentUserId, updateProfile, modal, handleModal }) => {\n\n  const { posts } = user\n  if (!posts) return ''\n  return (\n    <>\n\n      <MakePost \n        page='profile-post'\n        updateProfile={updateProfile}\n        user={user}\n      />\n      \n      <div className='flex'>\n        <div className=' profile-posts bordered-box'>\n          {posts.slice(0).reverse().map(post => {\n            return <Posts \n              key={post.id}\n              modal={modal}\n              handleModal={handleModal}\n              post={post}\n              currentUserId={currentUserId} \n              updateProfile={updateProfile}\n              user={user}/>\n          })}\n        </div>\n\n        <div className='sticky'>\n          <ProfileInteractions\n            user={user}/>\n        </div>\n      </div>\n\n    </>\n  )\n}\n\n\nexport default ProfileActivity","import React from 'react'\nimport ImageUpload from '../../common/ImageUpload'\nimport  axios from 'axios'\nimport { headers } from '../../lib/auth'\n\nclass ProfilePhotos extends React.Component {\nstate={\n  image: '',\n  i: '',\n  gallery: false,\n  loading: false\n}\n\n\n  openImage = (image , i) => {\n    i = i + 1\n    if (image && i) {\n      this.setState({ image, i , gallery: true })\n    } else \n      this.setState({ gallery: !this.state.gallery })\n  }\n\n  dontCloseModal = (e)=> {\n    e.stopPropagation()\n    this.setState({ gallery: true })\n  }\n\n  deleteImg = async () => {\n    await axios.delete(`/api/photos/${this.state.image.id}/`, headers())\n    this.openImage()\n    this.props.updateProfile(this.props.user.bio.id, 'photos')\n  }\n\n  handleImage = (action) => {\n    let image \n    let i\n    if (action === 'next') {\n      i = this.state.i + 1\n      image = this.props.user.photos[i]\n      if (!this.props.user.photos[i]) {\n        i = 0\n        image = this.props.user.photos[0]\n      }\n    } else {\n      i = this.state.i - 1\n      image = this.props.user.photos[i]\n      if (!this.props.user.photos[i]) {\n        i = this.props.user.photos.length - 1\n        image = this.props.user.photos[0]\n      }\n    }\n    this.setState({ image, i })\n  }\n\n\n  render(){\n    const { updateProfile, currentUserId, user } = this.props\n    const { photos } = user\n    const { image, gallery } = this.state\n\n    return (\n      <>\n\n        <h1>{user.bio.first_name}&apos;s Photos</h1>\n\n        {currentUserId === user.bio.id ? \n          <ImageUpload\n            page='photos'\n            user={user}\n            updateProfile={updateProfile}/>\n          : ''}\n        \n        <div \n          onClick={this.openImage}\n          className={`modal center\n          ${gallery ? '' : 'display-none'}`}>\n          \n          <div \n            onClick={this.dontCloseModal}\n            className='gallery-container '>\n\n            <button \n              className='gallery-button'\n              onClick={()=>{\n                this.handleImage('prev')\n              }}> {'<<<'} </button>\n\n            <img src={image.image}\n              className='gallery-image'\n              alt='user-img'/>\n\n            <img \n              onClick={this.deleteImg}\n              src='https://i.imgur.com/ptmQbO9.jpg'\n              className='img-settings'\n              alt='delete-img'/>\n\n            <button \n              className='gallery-button'\n              onClick={()=>{\n                this.handleImage('next')\n              }}> {'>>>'} </button>\n          </div>\n        </div>\n\n        <div className='profile-photos bordered-box dark-border'>\n          {photos ? photos.map((image,i) => {\n            return <div \n              key={image.id}\n              onClick={()=>{\n                this.openImage(image, i)\n              }}\n              className=\"users-photos\" \n              style ={ { backgroundImage: `url(${image.image})` } }></div>\n          }) : ''}\n        </div>\n\n      </>\n    )\n  }\n}\n\nexport default ProfilePhotos","import React from 'react'\nimport { defaultImage } from '../../../lib/commonFiles'\nimport { Link } from  'react-router-dom'\n\n\nclass ProfileFollowers extends React.Component { \n  state = {\n    fbutton: false\n  }\n\nhandleButton = () => {\n  this.setState({ fbutton: !this.state.fbutton })\n}\n  \n  \nrender(){\n\n  const { fbutton } = this.state\n  const { getData, user } = this.props\n  const { followers, following } = user.follow\n  const section = fbutton ? 'Followers' : 'Following'\n\n  if (!followers ) return ''\n  return (\n    <>\n\n      <button onClick={this.handleButton} className='button right'> \n        {section} </button>\n\n      <h1> {user.bio.first_name}&#39;s {section} </h1>\n\n      {/* <div className='followers-container flex full-width'> */}\n      {fbutton ? \n        <div className='followers-container flex full-width'>\n          {followers.map(follower => {\n            return (\n              <Link \n                to={`/profile/${follower.user_from.id}/activity`}  \n                key={follower.id}> \n                <div \n                  className='follow-field dark-border'\n                  onClick={() => {\n                    getData(follower.user_from.id)\n                  }}>\n                  <div \n                    className=\"follow-pic\" \n                    style ={ { backgroundImage: `url(${follower.user_from.profile_image ? \n                      follower.user_from.profile_image : defaultImage})` } }/>\n                  <h1 \n                    className='italic'> \n                    {follower.user_from.first_name} {follower.user_from.last_name}\n                  </h1>\n                  <small> \n                Friends since {follower.created.split('-').reverse().join(' ')}\n                  </small>\n                </div>\n              </Link>\n            )\n          })}\n        </div>\n        :\n        <div className='followers-container flex full-width'>\n          {following.map(follow => {\n            return (\n              <Link \n                to={`/profile/${follow.user_to.id}/activity`}  \n                key={follow.id}> \n                <div \n                  className='follow-field dark-border'\n                  onClick={() => {\n                    getData(follow.user_to.id)\n                  }}>\n                  <div \n                    className=\"follow-pic\" \n                    style ={ { backgroundImage: `url(${follow.user_to.profile_image ? \n                      follow.user_to.profile_image : defaultImage})` } }/>\n                  <h1 \n                    className='italic'> \n                    {follow.user_to.first_name} {follow.user_to.last_name}\n                  </h1>\n                  <small> \n                Friends since {follow.created.split('-').reverse().join(' ')}\n                  </small>\n                </div>\n              </Link>\n            )\n          })}\n        </div>\n      }\n\n\n      {/* </div> */}\n\n    </>\n\n  )\n}\n}\n\n\nexport default ProfileFollowers","import React from 'react'\n\n\nconst ProfileWish = ({ handleChange, handleSubmit,search,user, currentUserId }) => {\n\n  return (\n    <>\n\n      {currentUserId === user.bio.id ? \n    \n        <form \n          className='post-form bordered-box dark-border center'\n          onSubmit={handleSubmit}>\n\n          <textarea\n            className='post-texarea dark-border'\n            placeholder={'What\\'s happening?'}\n            name='search'\n            onChange={handleChange}\n            value={search}/>\n\n          <br/>\n\n          <button className='dark-border post-button button'>Send!</button>\n        </form>\n\n        : ''}\n\n    </>\n  )\n}\n\nexport default ProfileWish","\nimport React from 'react'\n\n\nconst WishlistProduct = ({ product, search, handleWishList,handleDelete,currentUserId, user }) => {\n\n  return (\n    <div className='product-field dark-border'>\n\n      <div className='product-img-container'>     \n        <img\n          src={product.thumbnail}\n          className=\"product-photo\" \n          alt='product-pic'/>\n      </div>\n              \n      <a href={product.url}>\n        <h1>{product.title}</h1>\n        <p>{ product.price.current_price ?  `£${ product.price.current_price}` : null}</p>\n      </a>\n      {currentUserId === user.bio.id ?\n        search === true ? \n          <button className='wishlist-button button'\n            onClick={() => {\n              handleWishList(\n                product.price.current_price,\n                product.thumbnail,\n                product.url,\n                product.title)\n            }}> Add to Wishlish </button> \n          : \n          <button className='wishlist-button button'\n            onClick={() => {\n              handleDelete(product.id)\n            }}> Delete </button>\n        : '' }\n\n    </div>\n  )\n}\n\nexport default WishlistProduct\n","\nimport React from 'react'\nimport axios from 'axios'\nimport { headers } from '../../../lib/auth'\nimport { amazonBaseURL, amazonHeaders } from '../../../lib/commonFiles'\nimport ProfileWishlistAdd from './ProfileWishlistAdd'\nimport WishlistProduct from './WishlistProduct'\nimport Loading from '../../../common/Loader'\n\nclass ProfileWish extends React.Component {\nstate = {\n  products: [],\n\n  form: {\n    search: ''\n  },\n\n  postForm: { \n    content: '',\n    image: '',\n    url: '',\n    title: '',\n    price: ''\n  },\n\n  wishlist: [],\n  modal: false,\n  loading: false\n}\n\n\nhandleChange = event => {\n  const form = { ...this.state.form, [event.target.name]: event.target.value }\n  this.setState({ form })\n}\n\nhandleSubmit =  event => {\n  event.preventDefault()\n  this.setState({ loading: true }, \n    async ()  => {\n      try {\n        const res = await axios(`${amazonBaseURL}${this.state.form.search}`, amazonHeaders )\n        const products = res.data.products\n        this.setState({ products , form: { search: '' }, loading: false })\n      } catch (err) {\n        console.log(err)\n      } \n    })\n}\n\nhandleWishList = async (price, thumbnail, url, title ) => {\n  const userLimit = this.props.user.average * 10\n  if (price > userLimit) {\n    this.setState({ modal: 'Your rating is not high enough for this action' })\n  } else {\n    this.setState({ \n      postForm: { \n        price: price,\n        thumbnail: thumbnail,\n        url: url,\n        title: title\n      } },\n    async () => {\n      await axios.post('/api/wishlist/', this.state.postForm , headers())\n      this.setState({ modal: 'Item Added to Wishlist' })\n    })\n  }\n  this.props.updateProfile(this.props.user.bio.id, 'wishlist')\n}\n\nhandleDelete = async (product) => {\n  await axios.delete(`/api/wishlist/${product}/`, headers())\n  this.props.updateProfile(this.props.user.bio.id, 'wishlist')\n}\n\nhandleModal = () => {\n  this.setState({ modal: !this.state.modal })\n}\n\nrender() {\n\n  const { products, modal, search, loading } = this.state\n  const { user,currentUserId } = this.props\n  const { wishlist } = user\n\n  if (!wishlist) return ''\n  return (\n    <> \n      <div className='wishlist-section scroll'>\n      \n        <h1>{user.bio.first_name}&apos;s Wishlist</h1>\n\n        <ProfileWishlistAdd \n          user={user}\n          currentUserId={currentUserId}\n          handleChange={this.handleChange}\n          handleSubmit={this.handleSubmit}\n          search={search}/>\n\n\n        {loading === true ? \n          <div className='center wish-loader'> \n            <Loading />\n          </div> : null}\n    \n\n        <div className='products-container flex'>\n          {products.map(product => {\n            return (\n              <WishlistProduct \n                key={product.asin}\n                handleWishList={this.handleWishList}\n                product={product}\n                search={true}\n                user={user}\n                currentUserId={currentUserId}/>\n            )\n          })}\n          \n          {wishlist.map(product => {\n            return ( \n              <WishlistProduct \n              \n                key={product.asin}\n                handleWishList={this.handleWishList}\n                product={product}\n                search={false}\n                handleDelete={this.handleDelete}\n                user={user}\n                currentUserId={currentUserId}/>\n            )\n          })}\n          \n          <div \n            onClick={this.handleModal}\n            className={`modal center \n          ${ modal ? 'display-block' : 'display-none'}`}>\n            <div className='modal-pop'>\n              {this.state.modal}\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n}\n\nexport default ProfileWish","import React from 'react'\nimport { Switch, Route, withRouter } from 'react-router-dom'\nimport ProfileInfo from './ProfileInfo'\nimport ProfileNavbar from './ProfileNavbar'\nimport ProfileBio from './ProfileSections/ProfileBio/ProfileBio'\nimport ProfileActivity from './ProfileSections/ProfileActivity/ProfileActivity'\nimport ProfilePhotos from './ProfileSections/ProfilePhotos'\nimport ProfileFollowers from './ProfileSections/ProfileFollowing/ProfileFollowers'\nimport ProfileWishlist from './ProfileSections/ProfileWishlist/ProfileWishlist'\n\n\nclass ProfilePage extends React.Component {\n\n\n  async componentDidMount () {\n    await this.props.getData(this.props.match.params.id)\n  }\n\n  render(){\n\n    const { user, getData,currentUserId } = this.props\n    if (!user.bio) return null \n    return (\n      <>\n        <div className='sticky profile-head'>\n          <ProfileInfo \n            user={user} \n            currentUserId={currentUserId}\n            updateProfile={getData} />\n\n          <ProfileNavbar \n            user={user}/>\n        </div>\n\n        <div className='profile-section full-width'>\n          <Switch>\n            <Route path='/profile/:id/bio' render={() => \n              <ProfileBio \n                user= {user} /> }/>\n\n            <Route path='/profile/:id/activity'render={() => \n              <ProfileActivity \n                user={user}\n                currentUserId={currentUserId}\n                updateProfile={getData} /> }/>\n\n            <Route path='/profile/:id/photos' render={() => \n              <ProfilePhotos\n                user={user}\n                currentUserId={currentUserId}\n                updateProfile={getData} /> }/>\n\n            <Route path='/profile/:id/fans' render={() => \n              <ProfileFollowers\n                user={user}\n                getData={getData}/> }/>\n\n            <Route path='/profile/:id/wishlist' render={() => \n              <ProfileWishlist\n                user={user}\n                currentUserId={currentUserId}\n                updateProfile={getData} /> }/>\n          </Switch>\n        </div>\n      </>\n    )\n  }\n}\n\nexport default withRouter(ProfilePage)","import React from 'react'\nimport axios from 'axios'\nimport { headers } from '../../../lib/auth'\nimport ImageUpload from '../../../common/ImageUpload'\nimport { withRouter } from 'react-router-dom'\n\n\nclass ProfileBioEdit extends React.Component {\n    state = {\n      profile: {\n        profile_image: ''\n      },\n      image: ''\n    }\n\n    async componentDidMount() {\n      this.getData()\n    }\n  \n    getData = async () => { \n      const res = await axios.get(`/api/profile/${this.props.currentUserId}/bio/`)\n      console.log(res)\n      this.setState({ profile: res.data.bio })\n    }\n\n    handleChange = event => {\n      try {\n        const profile = { ...this.state.profile, [event.target.name]: event.target.value }\n        this.setState({ profile })\n      } catch (err) {\n        console.log(err)\n      }\n    }\n\n    handleSubmit = async event => {\n      event.preventDefault()\n      try {\n        await axios.put(`/api/profile/${this.props.currentUserId}/edit/`, \n          this.state.profile , headers())\n        this.props.history.push(`/profile/${this.props.currentUserId}/bio`)\n      } catch (err) {\n        console.log(err)\n      }\n    }\n\n    handleImage = (img) => {\n      const profile = { ...this.state.profile, profile_image: img }\n      this.setState({ profile })\n    }\n  \n  \n    render(){\n\n      const { profile } = this.state\n      console.log(this.state)\n      if (!profile) return null\n      return (\n\n        <>\n          \n          <div className='auth-form'>     \n            <h1>Edit Profile</h1>\n          </div>\n\n          <div className='auth-form edit-cont pop-up'>\n            <div className='center'>\n\n              <div \n                style={{  \n                  backgroundImage: `url(${profile.profile_image})`\n                }} className=' profile-image edit-img'/>\n\n            </div>\n\n            <form onSubmit= {this.handleSubmit}>\n\n              <div className='form-field'>            \n                <label className='label'>First Name</label>\n                <br/>\n                <input\n                  className='form-input'\n                  id='edit-input'\n                  name=\"first_name\"\n                  value={profile.first_name}\n                  onChange={this.handleChange}\n                />\n              </div>\n              \n              <div className='form-field'>            \n                <label className='label'>Second Name</label>\n                <br/>\n                <input\n                  className='form-input'\n                  id='edit-input'\n                  name=\"last_name\"\n                  value={profile.last_name}\n                  onChange={this.handleChange}\n                />\n              </div>\n\n              <div className='form-field'>            \n                <label className='label'>Profile Image</label>\n                <br/>\n                <ImageUpload\n                  page='edit'\n                  image={this.handleImage}/>\n              </div>\n\n              <div className='form-field'>            \n                <label className='label'>Tagline</label>\n                <br/>\n                <input\n                  className='form-input'\n                  id='edit-input'\n                  name=\"tagline\"\n                  value={profile.tagline}\n                  onChange={this.handleChange}\n                />\n              </div>\n\n              <div className='form-field'>            \n                <label className='label'>Description</label>\n                <br/>\n                <textarea\n                  className='form-input long-textarea '\n                  id='edit-input'\n                  name=\"description\"\n                  value={profile.description}\n                  onChange={this.handleChange}\n                />\n              </div>\n\n              <div className='form-field'>            \n                <label className='label'>Career</label>\n                <br/>\n                <input\n                  className='form-input'\n                  id='edit-input'\n                  name=\"career\"\n                  value={profile.career}\n                  onChange={this.handleChange}\n                />\n              </div>\n\n              <div className='form-field'>            \n                <label className='label'>Location</label>\n                <br/>\n                <input\n                  className='form-input'\n                  id='edit-input'\n                  name=\"location\"\n                  value={profile.location}\n                  onChange={this.handleChange}\n                />\n              </div>\n\n              <div className='form-field'>   \n                <label className='label'>Relationship : </label>\n                <select \n                  defaultValue={profile.relationship} \n                  onChange={this.handleChange}\n                  name='Relationship'>\n                  <option value=\"\" disabled></option>\n                  <option value=\"Single\">Single</option>\n                  <option value=\"Relationship\">In a Relationship</option>\n                  <option value=\"Complicated\">Complicated</option>\n                  <option value=\"Widowed\">Widowed</option>\n                  <option value=\"Engaged\">Engaged</option>\n                </select>\n              </div>\n\n              <div className='form-field'>            \n                <label className='label'>Age</label>\n                <br/>\n                <input\n                  className='form-input'\n                  id='edit-input'\n                  name=\"age\"\n                  value={profile.age}\n                  onChange={this.handleChange}\n                />\n              </div>\n\n              <button className='form-button button'> Save! </button>\n            </form>\n          </div>\n          \n        </>\n      )\n    }\n}\n  \n\nexport default withRouter(ProfileBioEdit)","import React from 'react'\nimport axios from 'axios'\nimport { withRouter, Link } from 'react-router-dom'\n\n\n\nclass SidebarSearch extends React.Component {\n  state = {\n    query: '',\n    users: [],\n    searchUsers: []\n  }\n\n  async componentDidMount() {\n    const res = await axios.get(`/api/profile/${this.props.currentUserId}/all/`)\n    this.setState({ users: res.data })\n  }\n\n  handleChange = async event => {\n    const value = event.target.value\n    if (value !== '') {\n      const usersFiltered = this.state.users.filter(user => {\n        const regex = new RegExp(value, 'i')\n        return user.first_name.match(regex) || user.last_name.match(regex)\n      })\n      this.setState({ searchUsers: usersFiltered, query: value  })\n    } else {\n      this.setState({ searchUsers: [] , query: value })\n    }\n  }\n\n  changeProfile = (id) => {\n    this.props.getData(id)\n    this.setState({ query: '' , searchUsers: [] })\n  }  \n\n\n  render() {\n    const { query, searchUsers } = this.state\n    \n    return (\n      <div className='search-bar flex'>\n\n        <form className='flex center'>\n          <input\n            className='search-input dark-border'\n            onChange={this.handleChange}\n            value={query}\n          />\n    \n          <button className='button'> Search</button>\n        </form>\n\n        <div className='results-container side-results'>\n          {searchUsers.map(user => {\n            return (\n              <Link \n                key={user.id}\n                to={`/profile/${user.id}/activity`}>\n                <div \n                  className='side-user dark-border pointer flex'\n                  onClick={()=>{\n                    this.changeProfile(user.id)  \n                  }}>\n                  <img src={user.profile_image}\n                    className='small-icon' alt='pp-img'/>\n                  <p> {user.first_name} {user.last_name}</p>\n                </div>\n              </Link>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n}\nexport default withRouter(SidebarSearch)","import React from 'react'\n\n\nconst SidebarPosts = ({ posts }) => {\n\n  if (!posts) return ''\n  return (\n    <>\n      {posts.map(post => {\n        return (\n          <div \n            key={post.id}\n            className='sidebar-post-field'>\n            <h1>{post.owner.first_name} {post.owner.last_name}</h1>\n            <p>{post.content}</p>\n            <p> {post.ratings.length === 1 ? \n              `${post.ratings.length} PERSON RATED THIS POST` :\n              `${post.ratings.length} PEOPLE RATED THIS POST`} </p>\n          </div>\n        )\n      })}\n    </>\n  )\n}\n\nexport default SidebarPosts","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nclass Navbar extends React.Component {\n  \nhandleLogout = () => {\n  localStorage.removeItem('token')\n  this.props.history.push('/login')\n  window.location.reload()\n}\n\nhandleProfileNav = () => {\n  this.props.getData(this.props.currentUserId)\n}\n\nrender(){\n  const { currentUserId } = this.props\n  return (\n    <div className='navbar'> \n    \n      <Link\n        to={`/profile/${this.props.currentUserId}/activity`}\n        onClick={this.handleProfileNav}>\n        <img src='https://bit.ly/3h8vdNh'\n          className='nav-icon'\n          alt='user-profile'/>\n      </Link>\n\n      <Link \n        to={`/home/${currentUserId}`}> \n        <img src='https://i.imgur.com/kkeEHVw.jpg'\n          className='nav-icon'\n          alt='home'/>\n      </Link>\n\n      <Link \n        to='/community'>\n        <img src='https://i.imgur.com/ZNxb6AE.jpg'\n          className='nav-icon'\n          alt='community'/>\n      </Link>\n\n      <Link \n        to='/messages'>\n        <img src='https://i.imgur.com/9caQtx2.jpg'\n          className='nav-icon' alt='messages'/>\n      </Link>\n\n      <Link to={`/stats/${currentUserId}`}>\n        <img src='https://i.imgur.com/rr5afgV.jpg'\n          className='nav-icon'\n          alt='stats'/>\n      </Link>\n\n      <Link\n        to={`/edit/${currentUserId}`}>\n        <img src='https://i.imgur.com/BvhVhb3.jpg' \n          className='nav-icon'\n          alt='user-profile'/>\n      </Link>\n      \n      <img \n        onClick={this.handleLogout}\n        src='https://i.imgur.com/fgiTuvG.jpg' \n        className='nav-icon'\n        alt='user-profile'/>\n\n    </div>\n  )\n}\n}\n\nexport default withRouter(Navbar)","import React from 'react'\nimport axios from 'axios'\nimport SidebarSearch from './SidebarSearch'\nimport SidebarPosts from './SidebarPosts'\nimport Navbar from '../../common/Navbar'\n\n\nclass Sidebar extends React.Component {\nstate = {\n  newPosts: [],\n  topPosts: []\n\n}\n\nasync componentDidMount() {\n  const res = await axios.get('/api/post/')\n  this.setState({ \n    newPosts: res.data.new_posts,\n    topPosts: res.data.top_posts })\n}\n\nrender(){\n  const { newPosts, topPosts } = this.state\n  const { getData, currentUserId, changeProfile } = this.props\n\n  if (!newPosts || !topPosts) return ''\n  return (\n\n    <div className='sidebar-container'>\n      <section className='sidebar'>\n        <img src='https://bit.ly/2MMLjiE'\n          className='sidebar-logo '\n          alt='logo'/>\n\n\n        <Navbar \n          currentUserId={currentUserId}\n          getData={getData}\n        />\n        \n        <SidebarSearch \n          currentUserId={currentUserId}\n          getData={getData}/>\n\n        <h1 className='sidebar-title'> New Posts</h1>\n        <div className='sidebar-section'>\n          <SidebarPosts \n            posts={newPosts}/>\n        </div>\n\n        <h1 className='sidebar-title'> Top Posts</h1>\n        <div className='sidebar-section'>\n          <SidebarPosts \n            posts={topPosts}/>\n        </div>\n\n      </section>\n    </div>\n\n  )\n}\n}\n\nexport default Sidebar","import React from 'react'\nimport axios from 'axios'\nimport { setToken } from '../lib/auth'\nimport { Link, withRouter } from 'react-router-dom'\nimport { getUserId } from '../lib/auth'\n\n\n\nclass Login extends React.Component{\n  state = {\n    formData: {},\n    color: false\n  }\n\n\n  handleChange = event => {\n    try {\n      const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n      this.setState({ formData, error: '' })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n\n  handleSubmit = async event => {\n    event.preventDefault()\n    try {\n      const res = await axios.post('/api/login/', { ...this.state.formData })\n      setToken(res.data.token)\n      this.props.history.push(`/profile/${getUserId()}/activity`)\n      window.location.reload(false)\n    } catch (err) {\n      console.log(err)\n      this.setState({ error: 'Invalid Credentials' })\n    }\n  }\n\n  \n\n  handleChangeColor = () => {\n    this.setState({ color: !this.state.color })\n    this.timer = setInterval(this.changeback,500)\n    \n  }\n\n  changeback = () => {\n    this.setState({ color: false })\n  }\n\n  componentDidMount() {\n    this.timer = setInterval(this.handleChangeColor,100)\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timer)\n  }\n\n\n\n  render() {\n\n    const changingBg = this.state.color ? 'display-block' : 'display-none'\n    return (\n      <> \n\n        <div \n          className={`changing-bg  ${changingBg}`}\n          // style ={ { backgroundImage: 'url(https://bit.ly/37ovt7y)' }}\n        >\n\n        </div>\n\n        <img \n          src='https://i.imgur.com/KC7u7fn.jpg'\n          className='auth-logo center'\n          alt='logo'/>\n\n        <div className='auth-form center pop-up'>\n          <form onSubmit= {this.handleSubmit}>\n            <div className='form-field'>            \n              <h1>Log in</h1>\n              <input\n                className='form-input'\n                placeholder=\" Username\"\n                name=\"username\"\n                onChange={this.handleChange}\n              />\n            </div>\n\n            <div className='form-field'>       \n              <input\n                className='form-input'\n                type='password'\n                placeholder=\" Password\"\n                name=\"password\"\n                onChange={this.handleChange}\n              />\n            </div>\n\n            <button className='form-button button'> Login </button>\n            <Link to='/register'> <p>Register .....here</p></Link> \n          </form>\n        </div>\n\n\n      </>\n    )\n  }\n}\n\nexport default withRouter(Login)\n\n","import React from 'react'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\n\n\nclass Register extends React.Component{\n  state = {\n    formData: {}\n  }\n\n\n  handleChange = event => {\n    try {\n      const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n      this.setState({ formData })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n\n  handleSubmit = async event => {\n    event.preventDefault()\n    try {\n      await axios.post('/api/register/', { ...this.state.formData })\n      this.props.history.push('/login') \n    } catch (err) {\n      console.log(err)\n\n    }\n  }\n\n\n  render(){\n    return (\n      <>\n        <img src='https://i.imgur.com/QEUu6V8.jpg'\n          className='auth-logo center'\n          alt='logo'/>\n\n        <div className='auth-form center pop-up'>\n          <form onSubmit= {this.handleSubmit}>\n            <h1>Register</h1>\n            <div className='form-field'>            \n              <label className='label'>First Name</label>\n              <br/>\n              <input\n                className='form-input'\n                placeholder=\"First name\"\n                name=\"first_name\"\n                onChange={this.handleChange}\n              />\n            </div>\n\n            <div className='form-field'>            \n              <label className='label'>Last name</label>\n              <br/>\n              <input\n                className='form-input'\n                placeholder=\"Last name\"\n                name=\"last_name\"\n                onChange={this.handleChange}\n              />\n            </div>\n\n            <div className='form-field'>            \n              <label className='label'>Username</label>\n              <br/>\n              <input\n                className='form-input'\n                placeholder=\"username\"\n                name=\"username\"\n                onChange={this.handleChange}\n              />\n            </div>\n\n            <div className='form-field'>            \n              <label className='label'>Email</label>\n              <br/>\n              <input\n                className='form-input'\n                placeholder=\"Email\"\n                name=\"email\"\n                onChange={this.handleChange}\n              />\n            </div>\n\n            <div className='form-field'>       \n              <label className='label'>Password</label>\n              <br/>\n              <input\n                className='form-input'\n                type='password'\n                placeholder=\"password\"\n                name=\"password\"\n                onChange={this.handleChange}\n              />\n            </div>\n\n            <div className='form-field'>       \n              <label className='label'>Password Confirmation</label>\n              <br/>\n              <input\n                className='form-input'\n                type='password'\n                placeholder=\"password confirmation\"\n                name=\"password_confirmation\"\n                onChange={this.handleChange}\n              />\n            </div>\n\n            <button className='form-button button'> Register Now </button>\n\n            <Link to='/login'> <p>Already a member?</p></Link> \n\n          </form>\n        </div>\n      </>\n    )\n  }\n}\n\nexport default Register","import React from 'react'\n\nconst StatsModal = ({ advice, weakness, handleModal, modal }) => {\n\n\n  const modalClass = modal ? \n    'display-block' : 'display-none'\n\n  return (\n\n    <div className={`modal center ${modalClass}`}\n      onClick={handleModal}>\n\n\n      <div className='advice-container'>\n        <h1>Advice Slip</h1>\n        <br/>\n        <p>Your feedback suggests that your weakest attribute is : \n          <span className='large-text'>{weakness}</span>\n          <br/>\n          You should consider \n          <span className='large-text'> \n            <a href={advice}> these resources </a>\n          </span>\n          to better fit into society </p>\n      </div>\n\n    </div>\n\n  )\n}\n\nexport default StatsModal","import React from 'react'\nimport axios from 'axios'\nimport Chart from 'react-apexcharts'\nimport { getUserId } from '../lib/auth'\nimport StatsModal from './StatsModal'\n\nclass Stats extends React.Component{\n  state ={\n\n    dateOptions: {\n      colors: ['#b38282'],\n      chart: { id: 'basic-line' },\n      xaxis: { categories: [] }\n    },\n    dateSeries: [\n      {\n        name: '',\n        data: []\n      }\n    ],\n    feedbackOptions: {\n      colors: ['#b38282'],\n      chart: { id: 'basic-bar' },\n      xaxis: { categories: [] }\n      \n    },\n    feedbackSeries: [\n      {\n        name: '',\n        data: []\n      }\n    ],\n    \n    feedback: [],\n    weakness: '',\n    advice: '',\n    modal: false\n  }\n\n\n  async componentDidMount(){\n    const dateCategories = []\n    const dateData = []\n    const feedbackCategories = []\n    const feedbackData = []\n\n    const res = await axios.get(`/api/ratings/stats/${getUserId()}/`)\n\n    res.data.date.map(item  => {\n      dateCategories.push(item.created_at)\n      dateData.push(item.rating_count)\n      return ''\n    })\n\n    res.data.feedback.map(item => {\n      feedbackCategories.push(item.feedback)\n      feedbackData.push(item.rating_count)\n      return ''\n    })\n\n    const feedbackOptions = { ...this.state.feedbackOptions, xaxis: { categories: feedbackCategories } }\n    const feedbackSeries = [ { ...this.state.feedbackSeries, data: feedbackData  } ]\n    const dateOptions = { ...this.state.dateOptions, xaxis: { categories: dateCategories } }\n    const dateSeries = [ { ...this.state.series, data: dateData  } ]\n    this.setState({ dateOptions, dateSeries, feedbackOptions, feedbackSeries, feedback: res.data.feedback })\n    console.log(res)\n  }\n  \n\n  getAdvice = () => {\n    const weakness = this.state.feedback.reduce((x, y) => x.rating_count > y.rating_count ? x : y)\n    let advice \n    switch (weakness.feedback) {\n      case 'Impoverished Vibes':\n        advice = 'https://bit.ly/3ffWg8B'\n        console.log('here')\n        break\n      case 'Unattractive' :\n        advice = 'https://bit.ly/2znjGJS'\n        \n        break\n      case 'Unpleasant Smell' : \n        advice = 'https://bit.ly/37kknQK'\n        break\n      case 'Rude Interaction': \n        advice = 'https://bit.ly/3dWXzJe'\n        break\n      case 'Disciminatory': \n        advice = 'https://bit.ly/3dWXzJe'\n        break\n      default : advice = 'google.com'\n    }\n    this.setState({ weakness: weakness.feedback, advice }, \n      () => {\n        this.handleModal()\n      })\n  }\n\n  handleModal = () => {\n    this.setState({ modal: !this.state.modal })\n  }\n\n  render() {\n\n\n    return (\n      <>\n        <button \n          className='button advice-button'\n          onClick={this.getAdvice}> Advice Slip </button>\n        <h1> My Ratings Report</h1>\n\n        <StatsModal\n          advice={this.state.advice}\n          weakness={this.state.weakness}\n          modal={this.state.modal}\n          handleModal={this.handleModal}\n        />\n\n\n\n        <div className='bordered-box dark-border stats-text'>Id exercitation officia cupidatat minim velit esse exercitation consequat ad anim veniam labore ut consectetur.Do voluptate sint aliqua eu enim reprehenderit nostrud dolore.Velit quis duis et laborum do occaecat.Sit Lorem incididunt incididunt laboris voluptate amet duis aliquip laborum.Adipisicing pariatur sint qui irure.Aute consequat dolore voluptate deserunt voluptate adipisicing proident ea.Voluptate exercitation ex sint adipisicing.Qui incididunt exercitation ex ex aliquip tempor veniam ea ad qui sunt tempor ad exercitation.Id deserunt consectetur deserunt dolore fugiat culpa non est ea minim consectetur.</div>\n\n        <div className='stats-container flex'>\n          \n          <div className='graph'>\n            <h2 className='bordered-box dark-border'>Number of ratings by date</h2> \n            <div className=\"app\">\n              <div className=\"row\">\n                <div className=\"mixed-chart\">\n                  <Chart\n                    options={this.state.dateOptions}\n                    series={this.state.dateSeries}\n                    type=\"line\"\n                    width={window.innerWidth / 3.0}\n  \n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className='graph'>\n            <h2 className='bordered-box dark-border'>Number by Feedback</h2> \n            <div className=\"app\">\n              <div className=\"row\">\n                <div className=\"mixed-chart\">\n                  <Chart\n                    options={this.state.feedbackOptions}\n                    series={this.state.feedbackSeries}\n                    type=\"bar\"\n                    width={window.innerWidth / 3.0}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n\n        </div>\n\n        <div className='dark-border bordered-box stats-text'>\n\n        Id exercitation officia cupidatat minim velit esse exercitation consequat ad anim veniam labore ut consectetur.Do voluptate sint aliqua eu enim reprehenderit nostrud dolore.Velit quis duis et laborum do occaecat.Sit Lorem incididunt incididunt laboris voluptate amet duis aliquip laborum.Adipisicing pariatur sint qui irure.Aute consequat dolore voluptate deserunt voluptate adipisicing proident ea.Voluptate exercitation ex sint adipisicing.Qui incididunt exercitation ex ex aliquip tempor veniam ea ad qui sunt tempor ad exercitation.Id deserunt consectetur deserunt dolore fugiat culpa non est ea minim consectetur.\n        Id exercitation officia cupidatat minim velit esse exercitation consequat ad anim veniam labore ut consectetur.Do voluptate sint aliqua eu enim reprehenderit nostrud dolore.Velit quis duis et laborum do occaecat.Sit Lorem incididunt incididunt laboris voluptate amet duis aliquip laborum.Adipisicing pariatur sint qui irure.Aute consequat dolore voluptate deserunt voluptate adipisicing proident ea.Voluptate exercitation ex sint adipisicing.Qui incididunt exercitation ex ex aliquip tempor veniam ea ad qui sunt tempor ad exercitation.Id deserunt consectetur deserunt dolore fugiat culpa non est ea minim consectetur.\n        </div>\n      \n\n\n\n\n\n      </>\n    )\n  }\n}\n\nexport default Stats","import React from 'react'\nimport axios from 'axios'\nimport { headers } from '../lib/auth'\nimport ImageUpload from '../common/ImageUpload'\n\n\nclass Register extends React.Component{\n  state = {\n    formData: {}\n  }\n\n\n  handleChange = event => {\n    try {\n      const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n      this.setState({ formData })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  handleSubmit = async event => {\n    event.preventDefault()\n    try {\n      await axios.post('/api/forum/', { ...this.state.formData }, headers())\n      this.props.handleModal()\n      this.props.getData()\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  handleImage = (img, e) => {\n    const formData = { ...this.state.formData, [e]: img  }\n    this.setState({ formData })\n  }\n\n  render(){\n\n    return (\n      <>\n        <div className='auth-form center pop-up'>\n          <form onSubmit= {this.handleSubmit}>\n            <h1>New Thread</h1>\n            <div className='form-field'>            \n              <label className='label'>Title</label>\n              <br/>\n              <input\n                className='form-input'\n                placeholder=\"Title\"\n                name=\"title\"\n                onChange={this.handleChange}\n              />\n            </div>\n\n            <div className='form-field'>            \n              <label className='label'>Description</label>\n              <br/>\n              <input\n                className='form-input'\n                placeholder=\"Description\"\n                name=\"description\"\n                onChange={this.handleChange}\n              />\n            </div>\n\n            <div className='form-field'>\n              <label className='label'>Icon (Optional)</label>\n              <ImageUpload\n                image={this.handleImage}\n                page='forum'\n                field='image'/>\n            </div>\n\n            <div className='form-field'>            \n              <label className='label'>Limit Acces (Optional)</label>\n              <br/>\n              <select id=\"feedback\"\n                className='form-input'\n                placeholder=\"Limit Acces\"\n                name=\"limitations\"\n                onChange={this.handleChange}>\n                <option value=''></option>\n                <option value=\"1\">1</option>\n                <option value=\"2\">2</option>\n                <option value=\"3\">3</option>\n                <option value=\"4\">4</option>\n                <option value=\"5\">5</option>\n              </select>\n            </div>\n\n            <div className='form-field'>            \n              <label className='label'>Post</label>\n              <br/>\n              <textarea\n                className='form-input'\n                placeholder=\"make the first post here!\"\n                name=\"content\"\n                onChange={this.handleChange}\n              />\n            </div>\n\n            <div className='form-field'>\n              <label className='label'>Post-Image (Optional)</label>\n              <ImageUpload\n                image={this.handleImage}\n                page='forum'\n                field='post_image'/>\n            </div>\n\n            <button className='form-button button'> Create New Thread</button>\n\n          </form>\n        </div>\n      </>\n    )\n  }\n}\n\nexport default Register\n\n\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\n\nconst ForumCard = ({ thread }) => {\n  if (!thread) return ''\n  return (\n    <>\n      <Link to={`forum/${thread.id}`}>\n\n        <div key={thread.id}\n          className='forum-thread bordered-box dark-border flex'>\n\n          <div className='flex full-width'>\n            \n            <div \n              style={{  \n                backgroundImage: `url(${thread.image})`\n              }} className=' dark-border forum-icon '/>\n\n            <div className='full-width'>\n              <div className='flex-between'> \n                <h1>{thread.title}</h1>\n                {thread.limitations ? \n                  <p className='thread-limits'> NO { thread.limitations } STARS ALLOWED </p> \n                  : null}\n              </div>\n              <p>{thread.description}</p>\n              <div className='thread-small'>\n                <p>Created by: {thread.forum_owner.first_name} {thread.forum_owner.last_name} </p>\n                <p>Created at: {thread.created_at}</p>\n              </div>\n            </div>\n          </div>\n  \n        </div>\n      </Link>\n\n    </>\n  )\n}\n\nexport default ForumCard\n","import React from 'react'\nimport ForumNew from './ForumNew'\nimport ForumCard from './ForumCard'\n\n\nclass Forum extends React.Component {\n  state= {\n    modal: false,\n    fButton: false\n  }\n\n  async componentDidMount() {\n    this.props.getData()\n    console.log('called')\n  }\n\n  handleModal =() => {\n    this.setState({ modal: !this.state.modal })\n  }\n\n  dontCloseModal = (e)=> {\n    e.stopPropagation()\n    this.setState({ gallery: true })\n  }\n\ntoggleFollowed = () => {\n  this.setState({ fButton: !this.state.fButton })\n}\n\nrender(){\n\n  const {  modal, fButton } = this.state\n  const { currentUserId, forum, followed, getData } = this.props\n\n  const modalClass = modal ? 'display-block' : 'display-none'\n  const follow = fButton ?  'All-threads' : 'Followed Threads' \n\n  return (\n    <>\n      <h1 className='bordered-box dark-border'> \n        Community\n      </h1>\n      \n      <div  \n        className='bordered-box dark-border'> \n        Ullamco ipsum pariatur do Lorem eiusmod veniam ut occaecat ad magna in.Deserunt veniam sint et tempor proident fugiat eu ex velit magna.Est consequat sunt laboris minim cupidatat sit et aute proident eu.Irure eiusmod sint aliqua in eiusmod magna.Quis voluptate anim culpa et pariatur mollit do do fugiat aliquip ut.Irure anim irure nisi ex Lorem non fugiat nostrud id id commodo.Adipisicing proident officia duis tempor enim dolor.Eiusmod ipsum anim et ea ut minim laborum adipisicing proident amet sit deserunt ipsum enim.Nulla duis magna pariatur incididunt magna.\n      </div>\n\n      <div className='thread-btn'>\n        <button className='button' onClick={this.toggleFollowed}> {follow}</button>\n        <button className='button' onClick={this.handleModal}>+ New thread</button>\n      </div>\n\n      <div className={`${modalClass}`}>\n        <div onClick={this.handleModal} className='modal center'>\n          <div onClick={this.dontCloseModal} className='modal-pop'>\n            <ForumNew\n              handleModal={this.handleModal}\n              getData={getData}/>\n          </div>\n        </div>\n      </div>\n\n      {forum[0] ? \n        <>\n          {fButton ? followed.map(thread=>{\n            return <ForumCard \n              currentUserId={currentUserId}\n              key={thread.id}\n              thread={thread}/>\n          }) : \n            forum.map(thread=>{\n              return <ForumCard \n                currentUserId={currentUserId}\n                key={thread.id}\n                thread={thread}/>\n            })}\n        </> : ''}\n\n\n    </>\n  )\n}\n}\n\nexport default Forum\n","import React from 'react' \nimport { Link } from 'react-router-dom'\n\nconst ForumNews = ({ thread }) => {\n  return (\n    <>\n      <Link to={`/forum/${thread.forum.id}`}>\n        <div className='news-f-cont bordered-box flex'>\n          <img src={thread.forum.image} className='small-icon' alt='group-img'/>\n          <div>\n            <p className='news-f-title'>{thread.comment_owner.first_name} \n              {thread.comment_owner.last_name} &gt;&gt;&gt; {thread.forum.title} </p> \n            <p className='news-f-content'>{thread.content.substring(0,80)}...</p>\n          </div>\n        </div>\n      </Link>\n    </>\n\n  )\n}\n\nexport default ForumNews","import React from 'react' \nimport BeautyStars from 'beauty-stars'\n\nconst NewsfeedBio = ({ user, average  }) => {\n  \n  if (!user) return null\n  return ( \n\n    <div className='bordered-box feed-bio flex'>\n\n      <div \n        style={{  \n          backgroundImage: `url(${user.bio.profile_image})` }}\n        className='profile-image'/>\n\n      <div>\n        <div className='feed-text center'>\n          <h1>{average.toString().slice(0, 3)}\n            <small>{average.toString().slice(3,5)}</small> \n          </h1>\n          <p>{user.bio.first_name} {user.bio.last_name}</p>\n          <p>@{user.bio.username}</p>\n        </div> \n\n        <BeautyStars\n          value={average}\n          size={'2vw'}/>\n      </div>\n\n    </div>\n\n  )\n}\n\nexport default NewsfeedBio","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst NewsfeedFriends = ({ friends }) =>  {\n\n\n  return (\n    <div className='bordered-box italic'>\n      <h2 className='feed-title dark-border'> Find New Friends</h2>\n      <div className= 'find-cont center'>\n\n        {friends ? friends.map(friend => {\n          return <div \n            key={friend.id}\n            className='friend-cont center  '>\n            <Link to={`/profile/${friend.id}/activity`}>\n              <div style={{\n                backgroundImage: `url(${friend.profile_image})`\n              }} className=' friend-icon profile-image '/>\n\n              <p> {friend.first_name} {friend.last_name}</p>\n              <p>@{friend.username}</p>\n            </Link>\n            <button className='button follow-button'>Follow</button>\n          </div>\n        }) :\n          <div> Follow more users to make more connections </div>\n        }\n      </div>\n    </div>\n\n  )\n}\n\nexport default NewsfeedFriends","import React from 'react'\nimport axios from 'axios'\nimport MakePost from '../Posts/MakePost'\nimport Posts from '../Posts/Posts'\nimport ForumNews from '../Forum/ForumNews'\nimport NewsfeedBio from './NewsfeedBio'\nimport NewsfeedFriends from './NewsfeedFriends'\nimport { headers } from '../lib/auth'\n\nclass Newsfeed extends React.Component {\nstate = {\n  posts: [],\n  forums: [],\n  friends: []\n}\n\nasync componentDidMount(){\n  await this.getData()\n}\n\ngetData = async () => {\n  const id = this.props.currentUserId\n  const user  =  await axios.get(`/api/profile/${id}/bio/`)\n  const forums = await axios.get(`/api/forum/newsfeed/${id}/`)\n  const posts =  await axios.get(`/api/post/newsfeed/${id}/`)\n  const average =  await axios.get(`/api/profile/${id}/average/`)\n  const friends =  await axios.get(`/api/follow/find/${id}/`, headers())\n  \n  \n  this.setState({ \n    posts: posts.data, \n    forums: forums.data, \n    user: user.data,\n    average: average.data.average,\n    friends: friends ? friends.data : null })\n}\n\nrender() {\n\n  const { posts ,forums, friends, user, average }  = this.state\n  const { currentUserId } = this.props\n  console.log(this.state)\n  if (!user) return null\n  return (\n    <>\n      <div className='bordered-box'>\n        <h2>NewsFeed TEST</h2>\n      </div>\n          \n      <MakePost \n        page='profile-post'\n        user={user}\n        updateProfile={this.getData}/>\n\n      <div className='flex'>\n        <div className='feed-left'>\n\n          <NewsfeedBio \n            user={user}\n            average={average}/>\n\n          <div className='bordered-box feed-forum'>\n            <h2 className='feed-title dark-border'> New Forums</h2>\n            {forums.map(forum => {\n              return <ForumNews\n                key={forum.id}\n                thread={forum}/>\n            })}\n          </div>\n\n          <NewsfeedFriends\n            friends={friends}\n            user={user}/>\n        </div>\n\n        <div className='bordered-box feed-post' >\n          <h2 className='feed-title dark-border'> Newest Posts </h2>\n          {posts.slice(0).reverse().map(post => {\n            return <Posts \n              user={user}\n              key={post.id} \n              page='profile-post'\n              post={post}\n              currentUserId={currentUserId} \n              updateProfile={this.getData}/>\n          })}\n        </div>\n        \n      </div>\n\n    </>\n    \n  )\n}\n}\n\n\n\nexport default Newsfeed\n\n","import React from 'react'\n\n\nconst ThreadPost = ({ modal, thread, owner, follow, following, deleteThread }) =>  {\n\n  const modalClass = !modal ?  'display-none' : 'display:block'\n  return (\n    <>\n\n      <div className={`modal blurred center ${modalClass}`}>\n        <div className='modal-pop'>\n          <p> {`This thread is private, \n          You need to be a ${thread.limitations} star to enter`}\n          </p>\n        </div>\n      </div>\n\n      <div className='bordered-box thread-post flex'>\n\n        <div>\n          <img \n            src={thread.image} \n            className='thread-img dark-border'\n            alt='thread-img'/>\n          <div className='flex'>\n            <img\n              src={owner.profile_image} \n              alt='owner-img'\n              className='small-icon'/>\n            <div>\n              <p>{owner.first_name} {owner.last_name}</p>\n              <p>{thread.created_at}</p>\n            </div>\n          </div>\n        </div>\n\n        <div className='full-width'>\n          <div className='right'>\n            <p className='thread-limits'>\n              {thread.limitations ?\n                `NO ${thread.limitations} STARS ALLOWED` : 'PUBLIC'} </p>\n            <button className='button' onClick={follow}> \n              {following ? 'Unfollow' : 'Follow'} </button>\n            <button className='button' onClick={()=>{\n              deleteThread(thread.id)\n            }}>\n              Delete\n            </button>\n          </div>\n  \n          <h1>{thread.title}</h1>\n          <p>{thread.description}</p>\n          <p className='bordered-box thread-content'>\n            {thread.content}</p>\n          { thread.post_image ? <img src={thread.post_image} className='thr-img' alt='thread-img'/> : null}\n          <p className='right'>{thread.created_at}</p>\n        </div>\n\n      </div>\n\n    </>\n  )\n}\n\nexport default ThreadPost","import React from 'react' \nimport MakeComment from '../../../Posts/PostComments/MakeComments'\nimport axios from 'axios'\nimport { headers, getUserId } from '../../../lib/auth'\nconst userId = getUserId()\n\nclass ThreadOptions extends React.Component {\n  state ={\n    reply: false\n  }\n\ntoggleReply = () => {\n  this.setState({ reply: !this.state.reply })\n}\n\nhandleDelete = async (commentId) => {\n  await axios.delete(`/api/forum/${commentId}/` , headers())\n  this.props.getComments()\n}\n\nrender() {\n\n  const { comment, getComments, replies, toggleReplies } = this.props\n  return (\n    <>\n\n      <div className={this.state.reply ?\n        'display-block' : 'display-none'}>\n        <MakeComment\n          forum={comment.forum}\n          parent={comment.id}\n          page={'thread'}\n          getComments={getComments}\n          toggleReplies={toggleReplies}\n          toggleReply={this.toggleReply}\n        />\n      </div>\n\n      <div className='tcom-options'>\n\n        <button \n          className={comment.children.length > 0 ?\n            'button' : 'display-none'}\n          onClick={() =>{\n            toggleReplies(null)\n          }}>\n          {!replies ? 'Replies...' : 'Hide...'} \n        </button>\n\n\n        <button \n          onClick={this.toggleReply}\n          className='button'> Reply\n        </button>\n\n        <button \n          className={comment.comment_owner.id === userId ? \n            'button' : 'display-none'}\n          onClick={ () => {\n            this.handleDelete(comment.id)\n          }}> Delete \n        </button>\n\n      </div>\n\n    </>\n  )\n}\n}\n\nexport default ThreadOptions\n\n","/* eslint-disable camelcase */\nimport React from 'react' \nimport ThreadOptions from './ThreadOptions'\n\nclass Recursive extends React.Component {\nstate = {\n  replies: false\n}\n\ntoggleReplies = (set) => {\n  set ? this.setState({ replies: set })\n    : this.setState({ replies: !this.state.replies })\n}\n\n\nrender() {\n  const { comment, getComments } = this.props\n  const { comment_owner } = comment\n  const { replies } = this.state\n  console.log(comment)\n  return (\n    <>\n      <div className='tcom-top dark-border'>\n        <p className={comment.parent === null ? \n          'display-none' : 'right'}>\n          {'<<<'} </p>\n      </div>\n\n      <div className='tcom-contain bordered-box'>\n        <div className='flex'>\n\n          <div className='indent center'>\n            <div className='line'/>\n            <div className='text'/>\n          </div>\n\n          <div className='tcom-info center'>\n            <img alt='profile-img' className='small-icon'\n              src={comment_owner.profile_image}/>\n            <p>{comment_owner.first_name} {comment_owner.last_name}</p>\n            <small>{comment.created_at}</small>\n          </div>\n\n          <div className='full-width'>\n            <div className='bordered-box tcom-cont'>\n              <p>{comment.content}</p>\n\n            </div>\n            <ThreadOptions \n              comment={comment}\n              getComments={getComments}\n              replies={this.state.replies}\n              toggleReplies={this.toggleReplies}/>\n          </div>\n        </div>\n\n\n        <div \n          className={replies ? \n            'display-block' :  'display-none' }>\n          {comment.children ? comment.children.map(comment => {\n            return (\n              <Recursive \n                key={comment.id}\n                comment={comment}\n                getComments={getComments}/>\n            )\n          }) : null}\n        </div>\n\n      </div>\n    </>\n  )\n}\n}\n\nexport default Recursive","import React from 'react'\nimport axios from 'axios'\nimport { headers } from '../../lib/auth'\nimport { withRouter } from 'react-router-dom'\nimport MakePost from '../../Posts/MakePost'\nimport ThreadPost from './ThreadPost'\nimport Recursive from './ThreadComments/Recursive'\n\n\nclass ForumThreads extends React.Component {\n  state={\n    thread: [],\n    rating: '',\n    modal: false,\n    owner: '',\n    comments: [],\n    following: ''\n  }\n\n  async componentDidMount() {\n    this.getData()\n  }\n  \n  getData = async () => {\n    const id = this.props.currentUserId\n    this.getComments()\n    const threadId = this.props.match.params.id\n    const res = await axios.get(`/api/forum/thread/${threadId}/`)\n    const rating = await axios.get(`/api/profile/${id}/average/`)\n    const following = res.data[0].followers.includes(id)\n    this.setState({ \n      thread: res.data[0],  \n      rating: rating.data.average,\n      owner: res.data[0].forum_owner,\n      following: following },\n    () => {\n      if (this.state.thread.limitations && \n          this.state.rating.toString().charAt(0) === \n          this.state.thread.limitations) {\n        this.setState({ modal: true })\n      }\n    })\n  }\n\n  getComments = async () => {\n    const threadId = this.props.match.params.id\n    const res = await axios.get(`/api/forum/${threadId}/`)\n    this.setState({ comments: res.data })\n  }\n\n  followForum = async () => {\n    const forumId = this.state.thread.id\n    this.state.following ? \n      await axios.delete(`/api/forum/follow/${forumId}/`, headers())\n      : await axios.post(`/api/forum/follow/${forumId}/`, null , headers())\n    this.getData()\n    \n  }\n\n  deleteThread = (id) => {\n    axios.delete(`/api/forum/thread/${id}/`, headers())\n    this.props.getData()\n    this.props.history.push('/community')\n  }\n\n  render() {\n\n    const { modal, thread, owner , comments, following } = this.state\n    const threadId = this.props.match.params.id\n    return (\n      <>\n\n        <ThreadPost\n          modal={modal}\n          thread={thread}\n          owner={owner}\n          follow={this.followForum}\n          following={following}\n          deleteThread={this.deleteThread}/>\n\n        \n        <MakePost\n          page='thread-post'\n          threadId={threadId}\n          getComments={this.getComments}/>\n\n        {comments.map(comment => {\n          return (\n            <Recursive \n              key={comment.id}\n              comment={comment}\n              getComments={this.getComments}/>\n          )\n        })}\n\n      </>\n    )\n  }\n\n}\n\nexport default withRouter(ForumThreads)","import React from 'react'\n\nconst Chat = ({ userId, convo } ) => {\n  if (!convo) return ''\n\n  return (\n    <>\n  \n      <div className={convo ? ' chat-name flex' : 'display-none'}>\n        <img src={convo.participants.profile_image} \n          alt='info-img' className='small-icon'/>\n        <h1>{convo.participants.first_name} {convo.participants.last_name} </h1>\n      </div>\n\n      <div className='chat-messages scroll'>\n        {convo.messages ? convo.messages.map(message => {\n          if (message.sender.id === userId) {\n            return <div key={message.id} className='message-user'> \n              <p className='message-pop bordered-box'>{message.content} </p>\n              <img src={message.sender.profile_image} className='msg-icon small-icon' alt='pp-img' />\n            </div>\n          } else {\n            return <div key={message.id} className=' message-sender'> \n              <img src={message.sender.profile_image} className='msg-icon small-icon' alt='pp-img'/>\n              <p className='message-pop bordered-box'>{message.content} </p>\n            </div> \n          }\n        }) : null }\n      </div>\n    </>\n  )\n}\n\n\nexport default Chat","import React from 'react'\n\n\n\nconst Conversations = ({ conv, setChat, selectedChat,setNew, setRead, userId }) => {\n\n  const unread  = (messages) => {\n    const u = messages.filter(m => \n      m.read === false && m.reciever.id === userId).length \n    return u === 0 ? null : u\n  }\n\n  if (!conv) return null\n  return (\n\n    <div className='conv-container bordered-box' >\n\n      <button onClick={setNew} \n        className='button right'>\n        + New Chat\n      </button>\n\n      <h1 className='conv-header'> Conversations</h1>\n\n      {conv.map((convo,index) => {\n        return (\n          <div key={convo.id}\n            className={`flex conv-field \n              ${convo.id === selectedChat ? 'selected-chat' : ''}` }\n            onClick={()=> {\n              setRead(convo.messages)\n              setChat(index)\n            } }>\n\n            <img src={convo.participants.profile_image} \n              alt='profile-img' className='small-icon' />\n            <div className='full-width flex-between'>\n              <p>{convo.participants.first_name} {convo.participants.last_name}</p>\n              {unread(convo.messages) ? \n                <div className='center read-notif'>{unread(convo.messages)}</div> \n                : null}\n            </div>\n          </div>\n\n        )\n      })}\n    </div>\n  )\n}\n\n\nexport default Conversations","import React from 'react'\nimport axios from 'axios'\nimport { headers } from '../lib/auth'\n\n\nclass MessagePost extends React.Component {\n  state = {\n    form: {\n      content: '',\n      conversation: ''\n    }\n  \n  }\n  \n  handleChange = event => {\n    const form = { ...this.state.form, [event.target.name]: event.target.value }\n    this.setState({ form })\n  }\n  \n  handleClear = () => {\n    const form = { ...this.state.form, content: '', conversation: '' }\n    this.setState({ form })  \n  }\n\n  handleSubmit = async () => {\n    try {\n      const f = { ...this.state.form, conversation: this.props.convo.id } \n      const id = this.props.convo.participants.id\n      await axios.post(`/api/messaging/${id}/`, f, headers())\n      await this.props.getConvos()\n      await this.props.setChat(0,1)\n      this.handleClear()\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  \n  render () {\n    const { convo } = this.props\n    return (\n\n      <div className={convo ? 'msg-post center' : 'display-none'}>\n    \n        <input\n          className='msg-input'\n          placeholder={'Send a message...'}\n          name='content'\n          onChange={this.handleChange}\n          value={this.state.form.content}\n        />\n\n        <button \n          onClick={this.handleSubmit}\n          className='button'> Send</button>\n\n    \n      </div>\n      \n    )\n  }\n}\n  \n\n\nexport default MessagePost","import React from 'react'\nimport axios from 'axios'\n\n\nclass NewConvo extends React.Component {\n  state = {\n    input: '',\n    users: [],\n    searchUsers: []\n  }\n\n  async componentDidMount () {\n    const userId = this.props.userId\n    const res = await axios.get(`/api/profile/${userId}/all/`)\n    this.setState({ users: res.data })\n  }\n\n  handleChange = async event => {\n    const value = event.target.value\n    if (value !== '') {\n      const usersFiltered = this.state.users.filter(user => {\n        const regex = new RegExp(value, 'i')\n        return user.first_name.match(regex) || user.last_name.match(regex)\n      })\n      this.setState({ searchUsers: usersFiltered, input: value  })\n    } else {\n      this.setState({ searchUsers: [] , input: value })\n    }\n  }\n  \n  handleNew = async (id) => { \n    const conv = this.props.conversations\n    const i = conv.findIndex(c => {\n      return c.participants.id === id\n    })\n    if (i >= 0) {\n      this.props.setChat(i)\n    } else {\n      await axios.post(`/api/conversations/${id}/`,\n        { userId: this.props.userId })\n      await this.props.getConvos()\n      const i = conv.length \n      this.props.setChat(i)\n    }\n  }\n\n  render () {\n    const { input,searchUsers } = this.state\n    const { newConvo } = this.props\n\n    return (\n  \n      <div className={newConvo ? ' newConvo-container ' : 'display-none'}>\n\n        <div className='flex center'>\n          <h1> New Chat</h1>\n          <img className='search-btn small-icon'\n            src='https://i.imgur.com/NFkcPiE.jpg' alt='pp-img'/>\n        </div>\n        \n        <div className='bordered-box'>\n          <input \n            className='msg-search'\n            value={input} \n            placeholder='Search for a user...' \n            onChange={this.handleChange} />\n\n    \n\n          <div className='results-container'>\n            {searchUsers.map(user => {\n              return (\n                <div \n                  key={user.id}\n                  className=' search-user pointer flex'\n                  onClick={() => {\n                    this.handleNew(user.id)\n                  }}>\n                  <img src={user.profile_image}\n                    className='small-icon' alt='pp-img'/>\n                  <p> {user.first_name} {user.last_name}</p>\n                </div>\n              )\n            })}\n          </div>\n        </div>\n \n\n      </div>\n      \n\n    \n    )\n  }\n}\n  \n\n\nexport default NewConvo","import React from 'react'\nimport { getUserId, headers } from '../lib/auth'\nimport axios from 'axios'\nimport Chat from './Chat'\nimport Conversations from './Conversations'\nimport MessagePost from './MessagePost'\nimport NewConvo from './NewConvo'\n\nconst userId = getUserId()\n\nclass Messages extends React.Component {\n  state = {\n    conversations: [],\n    chat: '',\n    convo: '',\n    newConvo: false\n  }\n  \n  async componentDidMount() {\n    this.getConvos()\n  }\n\n  getConvos = async  () => {\n    const res = await axios.get(`/api/conversations/${userId}/`)\n    res.data.map(c => {\n      return c.participants = c.participants.find(u => u.id !== userId)\n    })\n    this.setState({ conversations: res.data })\n  }\n\n  setChat = async (i, update) => {\n    i =  update ? this.state.index : i\n    this.setState({ \n      index: i,\n      newConvo: false,\n      convo: this.state.conversations[i]\n    })\n  }\n\n  setRead = async (messages) => {\n    \n    const read =  messages.map(async m  => { \n      if (m.read === false && m.reciever.id === userId) {\n        const read = { ...m, sender: m.sender.id, reciever: m.reciever.id, read: true }\n        await axios.put(`/api/messaging/${m.id}/`, read , headers())\n      }\n    })\n    Promise.all(read)\n      .then(() => {\n        this.getConvos()\n      })\n  }\n\n  setNew = () => {\n    this.setState({ \n      newConvo: !this.state.newConvo, convo: false })\n  }\n  \n  render () {\n    const { \n      conversations,\n      newConvo,\n      convo } = this.state\n\n    return (\n      <div className='flex'>\n\n        <Conversations\n          conv={conversations}\n          userId={userId}\n          setChat={this.setChat}\n          setNew={this.setNew}\n          setRead={this.setRead}/>\n\n        <div className='chat-container'>\n\n          <NewConvo \n            userId={userId}\n            newConvo={newConvo}\n            conversations={conversations}\n            handleNew={this.handleNew}\n            setChat={this.setChat}\n            getConvos={this.getConvos}/>\n            \n          <Chat\n            userId={userId}\n            convo={convo}/>\n\n          <MessagePost\n            convo={convo}\n            getConvos={this.getConvos}\n            setChat={this.setChat}/>\n\n        </div>\n        \n      </div>\n\n    )\n  }\n}\n  \n\n\nexport default Messages\n\n\n","import React from 'react'\nimport axios from 'axios'\nimport { BrowserRouter , Switch, Route } from 'react-router-dom'\nimport { getUserId } from './lib/auth'\n\nimport ProfilePage from './Profiles /ProfilePage'\nimport ProfileBioEdit from './Profiles /ProfileSections/ProfileBio/ProfileBioEdit'\nimport Sidebar from './common/sidebar/Sidebar'\nimport Login  from './Auth/Login'\nimport Register from './Auth/Register'\nimport Stats from './Stats/Stats'\nimport Forum from './Forum/Forum'\nimport Newsfeed from './Newsfeed/Newsfeed'\n\nimport { getToken } from './lib/auth'\nimport ForumThreads from './Forum/ForumThreads/ForumThreads'\nimport Messages from './Messages/Messages'\n\n\nconst token = getToken()\nconst currentUserId = getUserId()\n\n\nclass App extends React.Component {\n  state = {\n    user: {},\n    forum: {},\n    followed: []\n  }\n\n  getData = async ( profile, action ) => {\n    const user = await axios.get(`/api/profile/${profile}/${action ? action : 'user'}/`)\n    const change = { ...this.state.user, [action]: user.data[action] } \n    action ? this.setState({ user: change }) : this.setState({ user: user.data })\n  }\n\n  getDataForum = async () => {\n\n    console.log('called')\n    const res = await axios.get('/api/forum/')\n    const followed = res.data.filter(t => \n      t.followers.includes(currentUserId))\n    this.setState({ forum: res.data, followed })\n\n  }\n\n  render(){\n    const { user, forum, followed } = this.state \n\n    return (\n      <>\n        <BrowserRouter>\n      \n          {token ?   \n            <Route render={() => \n              <Sidebar \n                user= {user} \n                currentUserId={currentUserId} \n                getData={this.getData}\n                changeProfile={this.changeProfile} /> }/> \n            : ''}\n\n          <Switch>\n\n            <Route path='/login' component={Login} />\n            <Route path='/register' component={Register} />\n            <Route path='/messages' component={Messages}/>\n\n            <div className='left-section'>\n\n              <Route path='/profile/:id/' render={() => \n                <ProfilePage \n                  user={user}\n                  currentUserId={currentUserId} \n                  getData={this.getData} /> }/>\n\n              <Route path='/edit' render={() => \n                <ProfileBioEdit currentUserId={currentUserId}/> }/>\n\n              <Route path='/home/:id' render={() => \n                <Newsfeed currentUserId={currentUserId} /> }/>\n\n              <Route path='/stats/:id' component={Stats}/>\n\n              <Route path='/community' render={() => \n                <Forum \n                  currentUserId={currentUserId}\n                  getData={this.getDataForum}\n                  forum={forum}\n                  followed={followed}/> }/>\n              <Route path='/forum/:id' render={() => \n                <ForumThreads \n                  currentUserId={currentUserId}\n                  getData={this.getDataForum}/> }/>\n\n            </div>\n\n          </Switch>\n        </BrowserRouter>\n\n      </>\n    )\n  }\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/main.scss'\nimport './styles/auth.scss'\nimport './styles/profile.scss'\nimport './styles/sidebar.scss'\nimport './styles/posts.scss'\nimport './styles/stats.scss'\nimport './styles/forum.scss'\nimport './styles/messages.scss'\nimport './styles/newsfeed.scss'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}